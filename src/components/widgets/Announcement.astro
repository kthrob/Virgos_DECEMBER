---
import { getPermalink } from '~/utils/permalinks';
---

<div
	id="announcement"
	class="hidden sticky top-0 left-0 right-0 z-30 md:flex bg-primary border-b border-default text-sm px-3 py-2 text-primary overflow-hidden whitespace-nowrap text-ellipsis justify-center"
>
	<span class="py-0.5 px-1 mr-2 rounded-lg bg-secondary text-xs font-semibold">Promo</span>
	<a
		href={getPermalink('useful-resources-to-create-websites', 'post')}
		class="hover:underline text-default"
		>Small Business Packages! Â»</a
	>
</div>
<!-- TODO  -->
<!-- Maybe use script to slide announcement offscreen when header touches it. Replace #announcement div 'sticy' with 'fixed' -->
<!-- <script>
	import invariant from 'tiny-invariant';

	const header = document.querySelector('#page-header') as HTMLElement;
	const announcement = document.getElementById('announcement');
	const page = document.documentElement;
	const openNavButton = document.querySelector('#open-nav-button');
	const closeNavButton = document.querySelector('#close-nav-button');

	function headerAtTop() {
		const d = page.clientHeight - page.scrollTop - header.offsetHeight;
		return d < 0;
	}

	invariant(header, 'header should not be null');
	invariant(menu, 'menu should not be null');
	invariant(openNavButton, 'openNavButton should not be null');
	invariant(closeNavButton, 'closeNavButton should not be null');

	document.addEventListener('scroll', () => {
		header.classList.toggle('fixed-header', headerAtTop());
		if (headerAtTop()) {
			header.classList.add('backdrop-blur-md', 'bg-default/30');
		} else {
			header.classList.remove('backdrop-blur-md', 'bg-default/30');
		}
	});
</script> -->
